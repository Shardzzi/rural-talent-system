# 数字乡村人才信息系统 - 启动脚本说明

## 🚀 快速启动脚本

为了方便开发和部署，我们提供了以下启动脚本：

### 📋 脚本列表

| 脚本名称 | 功能描述 | 使用场景 |
|---------|---------|---------|
| `start-all.sh` | 一键启动前后端服务 | 生产环境/演示 |
| `stop-all.sh` | 停止所有服务 | 停止服务 |
| `restart-all.sh` | 重启所有服务 | 重新加载配置 |
| `dev-start.sh` | 开发模式启动（带日志） | 开发调试 |

### 🔧 使用方法

#### 1. 生产/演示模式启动
```bash
# 一键启动
./start-all.sh

# 停止服务
./stop-all.sh

# 重启服务
./restart-all.sh
```

#### 2. 开发模式启动
```bash
# 开发模式（带实时日志输出）
./dev-start.sh

# 按 Ctrl+C 停止
```

### 📊 服务地址

启动成功后，可以通过以下地址访问：

- **前端应用**: http://localhost:8081
- **后端API**: http://localhost:8083
- **API测试**: http://localhost:8083/api/persons

### 🔐 测试账号

| 角色 | 用户名 | 密码 | 说明 |
|-----|-------|------|------|
| 管理员 | `admin` | `admin123` | 管理员权限 |
| 普通用户 | `Shard` | `123456` | 普通用户权限 |

### 📝 日志文件

启动脚本会自动创建日志文件：

- `logs/backend.log` - 后端服务日志
- `logs/frontend.log` - 前端服务日志

#### 实时查看日志
```bash
# 查看后端日志
tail -f logs/backend.log

# 查看前端日志
tail -f logs/frontend.log
```

### ⚡ 自动功能

启动脚本会自动：

1. ✅ 检查 Node.js 和 npm 是否安装
2. ✅ 检查并安装项目依赖
3. ✅ 启动后端服务器（端口 8083）
4. ✅ 启动前端服务器（端口 8081）
5. ✅ 健康检查，确认服务正常启动
6. ✅ 保存进程ID，便于停止服务
7. ✅ 创建日志文件记录运行状态

### 🛠️ 故障排除

#### 端口被占用
如果遇到端口被占用的问题：

```bash
# 检查端口占用
lsof -i:8081  # 前端端口
lsof -i:8083  # 后端端口

# 强制停止
./stop-all.sh
```

#### 依赖问题
如果遇到依赖问题：

```bash
# 清理并重装依赖
cd backend && rm -rf node_modules && npm install
cd ../frontend && rm -rf node_modules && npm install
```

#### 权限问题
如果脚本无法执行：

```bash
# 添加执行权限
chmod +x *.sh
```

### 🎯 开发建议

1. **日常开发**: 使用 `./dev-start.sh` 可以看到实时日志输出
2. **功能测试**: 使用 `./start-all.sh` 后台运行，查看日志文件
3. **部署演示**: 使用 `./start-all.sh` 启动稳定版本

### 📞 技术支持

如果遇到问题，请检查：

1. Node.js 版本是否 >= 14.0
2. npm 是否正常工作
3. 端口 8081 和 8083 是否被占用
4. 项目目录结构是否完整

---

**祝您使用愉快！** 🎉
